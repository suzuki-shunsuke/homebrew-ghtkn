# This file was generated by GoReleaser. DO NOT EDIT.
cask "ghtkn" do
  name "ghtkn"
  desc "Create GitHub App User Access Token for secure local development"
  homepage "https://github.com/suzuki-shunsuke/ghtkn"
  version "0.2.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "ghtkn"

  on_macos do
    on_intel do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_darwin_amd64.tar.gz"
      sha256 "2ea776fddb8d84442d70e4bdcd13eba3e9e64c4adb2f2954ceeca2d71fc4f01c"
    end
    on_arm do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_darwin_arm64.tar.gz"
      sha256 "e34c87325a0e4ebe235f1dbfc3e2c1873ccb170fd74931cf58fe85ca40548ade"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_linux_amd64.tar.gz"
      sha256 "f13833f99a6d598e254799670bfc6be7971f319cec1224d5643cea732b979745"
    end
    on_arm do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_linux_arm64.tar.gz"
      sha256 "f87baea25a39a6d262b1b93b4477c3fd8e04468ac82827fe2db0c1c09a70f173"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/ghtkn"]
    end
  end

  # No zap stanza required
end
