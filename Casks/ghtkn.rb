# This file was generated by GoReleaser. DO NOT EDIT.
cask "ghtkn" do
  name "ghtkn"
  desc "Create GitHub App User Access Token for secure local development"
  homepage "https://github.com/suzuki-shunsuke/ghtkn"
  version "0.2.4"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "ghtkn"

  on_macos do
    on_intel do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_darwin_amd64.tar.gz"
      sha256 "07d8695c71735197f599c2377f9f784da01350cb8629d8f8634f133f6b73f6ce"
    end
    on_arm do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_darwin_arm64.tar.gz"
      sha256 "ddbf283a1330de914b60f7317bd7d3233054c03aab294246b19b018ecab0757a"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_linux_amd64.tar.gz"
      sha256 "a381c7b9c8be70376ade91a6e70166777756e114001bc42f142d481193919e75"
    end
    on_arm do
      url "https://github.com/suzuki-shunsuke/ghtkn/releases/download/v#{version}/ghtkn_linux_arm64.tar.gz"
      sha256 "90eb4ec8c93a131f0682c3ec16e03aa5bc15a9d9ee9233659921811f0769a625"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/ghtkn"]
    end
  end

  # No zap stanza required
end
